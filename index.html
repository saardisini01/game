<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dunia Hewan Anak</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
  <style>

* {
  box-sizing: border-box;
  max-width: 100%;
}

    body {
  font-family: 'Fredoka One', cursive, sans-serif;
  text-align: center;
  margin: 0;
  padding: 0;
  background: url('not.jpg') no-repeat center center fixed;
  background-size: cover;
  min-height: 100vh;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  touch-action: pan-y;
}

    h1, h2, p {
      color: #fff;
      text-shadow: 1px 1px 2px rgb(0, 0, 0);
    }

    img {
      width: 150px;
      height: 150px;
      object-fit: contain;
      border-radius: 20px;
      border: 4px solid #3aafa9;
      background: white;
    }

    .choices {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }

    button {
      padding: 12px 30px;
      margin: 10px;
      border-radius: 10px;
      border: none;
      background-color: #3aafa9;
      color: white;
      font-size: 18px;
      cursor: pointer;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
      transition: transform 0.2s, background-color 0.2s;
    }

    button:hover {
      background-color: #2b7a78;
      transform: scale(1.05);
    }

    .page {
  position: absolute;
  top: 0;
  left: 100%;
  width: 100vw;  /* <- ini penting */
  max-width: 100vw; /* mencegah meluber */
  height: 100%;
  padding-top: 50px;
  opacity: 0;
  transform: translateX(0);
  transition: all 0.6s ease;
  pointer-events: none;
  z-index: 0;
  box-sizing: border-box;
}

.page.active {
  left: 0;
  opacity: 1;
  pointer-events: auto;
  z-index: 1;
}

.page.exit-left {
  left: -100%;
  opacity: 0;
}

.page.enter-right {
  left: 0;
  opacity: 1;
}

    #feedback, #resultText {
      margin-top: 20px;
      font-size: 20px;
      font-weight: bold;
    }

    #resultText.green {
      color: rgb(21, 255, 0);
    }

    #resultText.red {
      color: pink;
    }

    #score, #questionCounter {
      margin-top: 30px;
      font-size: 24px;
      color: #25a4d3;
    }

    .back-button {
      margin-top: 30px;
    }

    @media (max-width: 600px) {
      img {
        width: 120px;
        height: 120px;
      }

      button {
        padding: 10px 20px;
        font-size: 16px;
      }

      h1, h2, p {
        font-size: 18px;
      }

      #score {
        font-size: 20px;
      }
    }
  </style>
</head>
<body onclick="startBacksound()">

  <audio id="backsound" src="backsound.mp3" loop></audio>
  <audio id="soundCorrect" src="benar.mp3"></audio>
  <audio id="soundWrong" src="salah.mp3"></audio>
  <audio id="animal-audio" src=""></audio>

  <div id="welcome" class="page active">
    <h1>ğŸ‘‹ Selamat Datang di Dunia Hewan Anak!</h1>
    <p>Temukan keasyikan bermain sambil belajar tentang hewan!</p>
    <button onclick="goToGame('home')">Mulai</button>
  </div>

  <div id="home" class="page">
    <h1>ğŸŒŸ Dunia Hewan Anak ğŸŒŸ</h1>
    <p>Pilih permainan yang ingin kamu mainkan:</p>
    <div class="choices">
      <button onclick="goToGame('gameImage')">ğŸ¨ Tebak Gambar Hewan</button>
      <button onclick="goToGame('gameSound')">ğŸ”Š Tebak Suara Hewan</button>
    </div>
  </div>

  <div id="gameImage" class="page">
    <h1>ğŸ¾ Tebak Gambar Hewan ğŸ¾</h1>
    <div id="questionCounter"></div>
    <img id="image" src="" alt="Gambar hewan" title="Gambar hewan">
    <div class="choices" id="choices"></div>
    <div id="feedback"></div>
  </div>

  <div id="gameSound" class="page">
    <h1>ğŸ¦ Tebak Suara Hewan</h1>
    <button onclick="playAnimal()">ğŸ”Š Mainkan Suara</button>
    <div class="choices">
      <button onclick="checkAnimal('kucing')">Kucing</button>
      <button onclick="checkAnimal('anjing')">Anjing</button>
      <button onclick="checkAnimal('sapi')">Sapi</button>
      <button onclick="checkAnimal('kelinci')">Kelinci</button>
      <button onclick="checkAnimal('gajah')">Gajah</button>
      <button onclick="checkAnimal('harimau')">Harimau</button>
      <button onclick="checkAnimal('kuda')">Kuda</button>
      <button onclick="checkAnimal('ikan')">Ikan</button>
      <button onclick="checkAnimal('burung')">Burung</button>
      <button onclick="checkAnimal('singa')">Singa</button>
    </div>
    <p id="resultText"></p>
    <div class="back-button">
      <button onclick="goToGame('home')">â¬…ï¸ Kembali ke Menu</button>
    </div>
  </div>

  <div id="result" class="page">
    <h2>ğŸ‰ Skor Akhir: <span id="finalScore"></span></h2>
    <button onclick="goToGame('gameImage')">Main Lagi</button>
    <button onclick="goToGame('home')">Kembali ke Menu</button>
  </div>

  <script>
    let backsoundStarted = false;
    function startBacksound() {
      if (!backsoundStarted) {
        const backsound = document.getElementById("backsound");
        backsound.volume = 0.3;
        backsound.play().catch(() => {});
        backsoundStarted = true;
      }
    }

    function showPage(id) {
      document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }

    function goToGame(pageId) {
      showPage(pageId);
      if (pageId === "gameImage") startGame();
    }

    const questions = [
      { img: "https://upload.wikimedia.org/wikipedia/commons/6/6e/Golde33443.jpg", answer: "Anjing", choices: ["Kucing", "Anjing", "Sapi"] },
      { img: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Cat03.jpg/320px-Cat03.jpg", answer: "Kucing", choices: ["Ayam", "Kucing", "Kelinci"] },
      { img: "sapi-limosin.jpeg", answer: "Sapi", choices: ["Sapi", "Gajah", "Bebek"] },
      { img: "kelinci.jpg", answer: "Kelinci", choices: ["Kelinci", "Ayam", "Kucing"] },
      { img: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/37/African_Bush_Elephant.jpg/640px-African_Bush_Elephant.jpg", answer: "Gajah", choices: ["Gajah", "Sapi", "Kuda"] },
      { img: "harimau.jpg", answer: "Harimau", choices: ["Harimau", "Kucing", "Anjing"] },
      { img: "kuda.jpg", answer: "Kuda", choices: ["Kuda", "Gajah", "Sapi"] },
      { img: "ikan.jpg", answer: "Ikan", choices: ["Ikan", "Burung", "Sapi"] },
      { img: "burung.jpg", answer: "Burung", choices: ["Burung", "Kelinci", "Macan"] },
      { img: "singa.jpg", answer: "Singa", choices: ["Singa", "Gajah", "Kuda"] }
    ];

    let current = 0;
    let score = 0;

    function startGame() {
      current = 0;
      score = 0;
      loadQuestion();
    }

    function loadQuestion() {
      document.getElementById("feedback").textContent = "";
      const q = questions[current];
      document.getElementById("image").src = q.img;
      document.getElementById("questionCounter").textContent = `Soal ${current + 1} dari ${questions.length}`;

      const choicesDiv = document.getElementById("choices");
      choicesDiv.innerHTML = "";
      q.choices.forEach(choice => {
        const btn = document.createElement("button");
        btn.textContent = choice;
        btn.onclick = () => checkAnswer(choice);
        choicesDiv.appendChild(btn);
      });
    }

    function checkAnswer(choice) {
      const q = questions[current];
      const feedback = document.getElementById("feedback");
      const correctSound = document.getElementById("soundCorrect");
      const wrongSound = document.getElementById("soundWrong");

      if (choice === q.answer) {
        feedback.textContent = "Benar! ğŸ‰";
        feedback.style.color = "lightgreen";
        score++;
        correctSound.play();
      } else {
        feedback.textContent = "Salah ğŸ˜¢";
        feedback.style.color = "pink";
        wrongSound.play();
      }

      current++;
      if (current < questions.length) {
        setTimeout(loadQuestion, 1500);
      } else {
        setTimeout(() => {
          document.getElementById("finalScore").textContent = `${score} dari ${questions.length}`;
          showPage("result");
        }, 1500);
      }
    }

    let currentAnimal = '';
    function playAnimal() {
      const animals = ['kucing', 'anjing', 'sapi', 'kelinci', 'gajah', 'harimau', 'kuda', 'ikan', 'burung', 'singa'];
      currentAnimal = animals[Math.floor(Math.random() * animals.length)];

      const sounds = {
        kucing: 'suara-kucing.mp3',
        anjing: 'suara-anjing.mp3',
        sapi: 'suara-sapi.mp3',
        kelinci: 'suara-kelinci.mp3',
        gajah: 'suara-gajah.mp3',
        harimau: 'suara-harimau.mp3',
        kuda: 'suara-kuda.mp3',
        ikan: 'suara-ikan.mp3',
        burung: 'suara-burung.mp3',
        singa: 'suara-singa.mp3'
      };

      const audio = document.getElementById('animal-audio');
      audio.src = sounds[currentAnimal] || '';
      if (audio.src) audio.play().catch(() => {});

      const result = document.getElementById('resultText');
      result.textContent = '';
      result.className = '';
    }

    function checkAnimal(ans) {
      const result = document.getElementById('resultText');
      if (ans === currentAnimal) {
        result.textContent = 'Benar! ğŸ‰';
        result.className = 'green';
        document.getElementById("soundCorrect").play();
      } else {
        result.textContent = 'Coba lagi ğŸ˜…';
        result.className = 'red';
        document.getElementById("soundWrong").play();
      }
    }
  </script>
</body>
</html>
